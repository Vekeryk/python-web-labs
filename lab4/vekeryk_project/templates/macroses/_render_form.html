{% macro render_form(form, action) %}

{% from "macroses/_render_field.html" import render_field %}

<form action="{{ url_for(action) }}" method="post">
    {{ form.csrf_token }}
    {% for field in form if field not in [form.submit, form.hidden_tag, form.csrf_token] %}
        {{ render_field(field, class="form-control") }}
    {% endfor %}
    {{ form.submit(class="btn btn-primary") }}
</form>

{% endmacro %}